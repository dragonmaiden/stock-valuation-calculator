@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
  
  body {
    @apply font-sans bg-apple-bg text-apple-text transition-colors duration-300;
  }

  @media (prefers-color-scheme: dark) {
    body {
      @apply bg-appleDark-bg text-appleDark-text;
    }
  }

  /* Elegant selections */
  ::selection {
    @apply bg-apple-blue/20 text-apple-text;
  }
  @media (prefers-color-scheme: dark) {
    ::selection {
      @apply bg-appleDark-blue/30 text-appleDark-text;
    }
  }

  /* Minimal inputs */
  input:focus, button:focus {
    @apply outline-none ring-2 ring-apple-blue/50 ring-offset-2 ring-offset-apple-bg;
  }
  @media (prefers-color-scheme: dark) {
    input:focus, button:focus {
      @apply ring-appleDark-blue/50 ring-offset-appleDark-bg;
    }
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Refined scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    @apply bg-apple-lightGray rounded-full;
  }
  @media (prefers-color-scheme: dark) {
    ::-webkit-scrollbar-thumb {
      @apply bg-appleDark-lightGray rounded-full;
    }
  }
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-apple-gray;
  }
}

@layer utilities {
  .glass-panel {
    @apply bg-apple-card/80 backdrop-blur-xl border border-apple-border shadow-apple;
  }
  .dark .glass-panel {
    @apply bg-appleDark-card/80 border-appleDark-border shadow-apple-dark;
  }

  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-apple-text to-apple-textMuted;
  }
  .dark .text-gradient {
    @apply bg-gradient-to-r from-appleDark-text to-appleDark-textMuted;
  }
}

/* Base structural animations */
.animate-fadeIn {
  animation: fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Range inputs */
input[type=range] {
  -webkit-appearance: none;
  @apply w-full h-1.5 rounded-full bg-apple-border outline-none;
}
.dark input[type=range] {
  @apply bg-appleDark-border;
}
input[type=range]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  @apply w-4 h-4 rounded-full bg-white border border-apple-lightGray shadow-sm cursor-pointer transition-transform;
}
.dark input[type=range]::-webkit-slider-thumb {
  @apply border-appleDark-lightGray bg-appleDark-text;
}
input[type=range]::-webkit-slider-thumb:hover {
  transform: scale(1.1);
}